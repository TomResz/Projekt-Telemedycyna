@inherits LayoutComponentBase
@layout MainLayout
<MudLayout>
	<MudAppBar Elevation="0">
		<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@(() => DrawerToggle())" />
		<MudSpacer />
		<MudIconButton Icon="@(MainLayout.IsDarkMode ?  Icons.Material.Filled.Nightlight : Icons.Material.Filled.Brightness4)"
					   Color="Color.Inherit"
					   Class="nav-button ml-1"
					   OnClick="@(async () => await MainLayout.ThemeToggle())" />
	</MudAppBar>
	<MudDrawer @bind-Open="_drawerOpen" Elevation="1">
		<MudDrawerHeader>
			<img src="/icon.svg" class="page-icon">
			<MudText Typo="Typo.h6">Pomiar Nacisku</MudText>
		</MudDrawerHeader>
		<NavMenu />
	</MudDrawer>
	<MudMainContent>
		<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="pa-4 ma-0" Style="overflow-x: hidden;">
			<div style="height: calc(100vh - 96px);">
				@Body
			</div>
		</MudContainer>
	</MudMainContent>
</MudLayout>
<style>
	.page-icon {
		margin-top: -10px;
		transform: scale(0.7);
		margin-right: 10px;
	}
</style>
@code {
	bool _drawerOpen = true;
	[CascadingParameter] MainLayout MainLayout { get; set; }
	void DrawerToggle() => _drawerOpen = !_drawerOpen;

}